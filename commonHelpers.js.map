{"version":3,"file":"commonHelpers.js","sources":["../src/gallery-service.js","../src/main.js"],"sourcesContent":["export default class GalerryApiService {\n    constructor() {\n        this.userQuery = '';\n        this.page = 1;\n\n    }\n\n    fetchArticles() {\n        console.log(this);\n        const API_KEY = '42127236-8bfdbbfbeed8a2dadaca720e8';\n\n    axios.get(`https://pixabay.com/api/?key=${API_KEY}&q=${this.userQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=15`)\n        .then(function (response) {\n            console.log(response.data.hits);\n            this.page += 1;\n        })\n        \n        .catch(function (error) {\n        console.log(error);\n    })\n    }\n\n    get query() {\n        return this.userQuery;\n    }\n\n    set query(newQuery) {\n        this.userQuery = newQuery;\n    }\n}","import axios from \"axios\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport GalerryApiService from \"./gallery-service\";\n\nconst inputElem = document.querySelector('.search-input');\nconst formElem = document.querySelector('.search-form');\nconst imagesContainer = document.querySelector('.gallery');\nconst divElem = document.querySelector('div');\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]');\n\nconst galerryApiService = new GalerryApiService();\n\n\nconst showLoader = () => {\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  divElem.append(loader);\n}\n\nconst hideLoader = () => {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n\nformElem.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\n\nfunction onSearch(e) {\n    showLoader();\n    imagesContainer.innerHTML = \"\";\n    e.preventDefault();\n    galerryApiService.userQuery = e.currentTarget.elements.searchQuery.value;\n\n    galerryApiService.fetchArticles();\n}\n\nfunction onLoadMore() {\ngalerryApiService.fetchArticles();\n}\n\n\n\n\n\nconst options = {\n  captions: true,\n  captionType: 'attr',\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionSelector: \"img\",\n  captionDelay: 250,\n};\n"],"names":["GalerryApiService","API_KEY","response","error","newQuery","formElem","imagesContainer","divElem","loadMoreBtn","galerryApiService","showLoader","loader","onSearch","onLoadMore","e"],"mappings":"0uBAAe,MAAMA,CAAkB,CACnC,aAAc,CACV,KAAK,UAAY,GACjB,KAAK,KAAO,CAEf,CAED,eAAgB,CACZ,QAAQ,IAAI,IAAI,EAChB,MAAMC,EAAU,qCAEpB,MAAM,IAAI,gCAAgCA,CAAO,MAAM,KAAK,SAAS,iEAAiE,KAAK,IAAI,cAAc,EACxJ,KAAK,SAAUC,EAAU,CACtB,QAAQ,IAAIA,EAAS,KAAK,IAAI,EAC9B,KAAK,MAAQ,CACzB,CAAS,EAEA,MAAM,SAAUC,EAAO,CACxB,QAAQ,IAAIA,CAAK,CACzB,CAAK,CACA,CAED,IAAI,OAAQ,CACR,OAAO,KAAK,SACf,CAED,IAAI,MAAMC,EAAU,CAChB,KAAK,UAAYA,CACpB,CACL,CCrBkB,SAAS,cAAc,eAAe,EACxD,MAAMC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAkB,SAAS,cAAc,UAAU,EACnDC,EAAU,SAAS,cAAc,KAAK,EACtCC,EAAc,SAAS,cAAc,2BAA2B,EAEhEC,EAAoB,IAAIT,EAGxBU,EAAa,IAAM,CACvB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BJ,EAAQ,OAAOI,CAAM,CACvB,EASAN,EAAS,iBAAiB,SAAUO,CAAQ,EAC5CJ,EAAY,iBAAiB,QAASK,CAAU,EAGhD,SAASD,EAASE,EAAG,CACjBJ,IACAJ,EAAgB,UAAY,GAC5BQ,EAAE,eAAc,EAChBL,EAAkB,UAAYK,EAAE,cAAc,SAAS,YAAY,MAEnEL,EAAkB,cAAa,CACnC,CAEA,SAASI,GAAa,CACtBJ,EAAkB,cAAa,CAC/B"}